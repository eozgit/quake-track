<div class="modal-content">
    <form>
        <div class="modal-header">
            <h5 class="modal-title">Edit Issue</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                (click)="modalRef.dismiss('Cross')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="name">Title</label>
                <input class="form-control" id="summary" name="summary" [(ngModel)]="issue.summary">
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea class="form-control" id="description" name="description" [(ngModel)]="issue.description"
                    rows="8" maxlength="300"></textarea>
            </div>
            <div class="form-group">
                <label for="issueType">Issue type</label>
                <select class="form-control" id="issueType" required [(ngModel)]="issue.issueType" name="issueType">
                    <option *ngFor="let it of issueTypes" [value]="it">{{it}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="assignee">Assignee</label>
                <select class="form-control" id="assignee" required [(ngModel)]="issue.assigneeId" name="assignee">
                    <option *ngFor="let user of (project$ | async).users" [value]="user.id">{{user.email}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="storypoints">Storypoints</label>
                <select class="form-control" id="storypoints" required [(ngModel)]="issue.storypoints"
                    name="storypoints">
                    <option *ngFor="let point of storypoints" [value]="point">{{point}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="priority">Priority</label>
                <select class="form-control" id="priority" required [(ngModel)]="issue.priority" name="priority">
                    <option *ngFor="let p of priority" [value]="p">{{p}}</option>
                </select>
            </div>

        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal"
                (click)="modalRef.dismiss('Close')">Close</button>
            <button type="button" class="btn btn-danger" (click)="deleteDialog(deleteModal)">Delete Issue</button>
            <button type="button" class="btn btn-primary" (click)="save()">Save changes</button>
        </div>
    </form>
</div>

<ng-template #deleteModal>
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Delete Issue</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                (click)="confirmModalRef.dismiss('Cross')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <p>Are you sure that you want to delete this issue?</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal"
                (click)="confirmModalRef.dismiss('Close')">No</button>
            <button type="button" class="btn btn-danger" (click)="delete()">Yes</button>
        </div>
    </div>
</ng-template>